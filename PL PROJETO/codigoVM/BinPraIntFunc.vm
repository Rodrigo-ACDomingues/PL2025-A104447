pushi 0
storeg 0
pushi 0
storeg 1
start
pushs "Introduza uma string binária:"
writes
writeln
read
dup 1
atoi
storeg 0
pushg 0
pusha BinToInt
call
storeg 1
pushs "O valor inteiro correspondente é: "
writes
pushg 1
writei
writeln
stop
BinToInt:
pushi 0
pushi 0
pushi 0
pushi 0
pushi 0
pushi 0
storel 2
pushi 1
storel 3
pushl 0
strlen
storeg ('local', 1)
FOR0:
pushg ('local', 1)
pushi 1
sup
jz ENDFOR1
pushl 0
pushl 1
loadn
pushs "1"
equal
jz ENDIF2
pushl 2
pushl 3
add
storel 2
ENDIF2:
pushl 3
pushi 2
mul
storel 3
pushg ('local', 1)
pushi 1
sub
storeg ('local', 1)
jump FOR0
ENDFOR1:
pushl 2
storel 4
pushl 4
return
